-- Löschen aller bestehenden Daten für Neuimport
DELETE FROM round_results;
DELETE FROM rounds;
DELETE FROM tournament_players;
DELETE FROM tournaments;
DELETE FROM players;
DELETE FROM historical_player_totals;

-- Erstellen aller Turniere basierend auf Excel-Blättern (chronologisch sortiert)
INSERT INTO tournaments (name, created_at, completed_at) VALUES
-- 2022 Turniere
('21.08.22', '2022-08-21 18:00:00+00', '2022-08-21 22:00:00+00'),
('04.09.22', '2022-09-04 18:00:00+00', '2022-09-04 22:00:00+00'),
('18.09.22', '2022-09-18 18:00:00+00', '2022-09-18 22:00:00+00'),
('02.10.22', '2022-10-02 18:00:00+00', '2022-10-02 22:00:00+00'),
('16.10.22', '2022-10-16 18:00:00+00', '2022-10-16 22:00:00+00'),
('30.10.22', '2022-10-30 18:00:00+00', '2022-10-30 22:00:00+00'),
('13.11.22', '2022-11-13 18:00:00+00', '2022-11-13 22:00:00+00'),
('27.11.22', '2022-11-27 18:00:00+00', '2022-11-27 22:00:00+00'),
('11.12.22', '2022-12-11 18:00:00+00', '2022-12-11 22:00:00+00'),

-- 2023 Turniere
('08.01.23', '2023-01-08 18:00:00+00', '2023-01-08 22:00:00+00'),
('22.01.23', '2023-01-22 18:00:00+00', '2023-01-22 22:00:00+00'),
('05.02.23', '2023-02-05 18:00:00+00', '2023-02-05 22:00:00+00'),
('19.02.23', '2023-02-19 18:00:00+00', '2023-02-19 22:00:00+00'),
('05.03.23', '2023-03-05 18:00:00+00', '2023-03-05 22:00:00+00'),
('19.03.23', '2023-03-19 18:00:00+00', '2023-03-19 22:00:00+00'),
('02.04.23', '2023-04-02 18:00:00+00', '2023-04-02 22:00:00+00'),
('16.04.23', '2023-04-16 18:00:00+00', '2023-04-16 22:00:00+00'),
('30.04.23', '2023-04-30 18:00:00+00', '2023-04-30 22:00:00+00'),
('14.05.23', '2023-05-14 18:00:00+00', '2023-05-14 22:00:00+00'),
('28.05.23', '2023-05-28 18:00:00+00', '2023-05-28 22:00:00+00'),
('11.06.23', '2023-06-11 18:00:00+00', '2023-06-11 22:00:00+00'),
('25.06.23', '2023-06-25 18:00:00+00', '2023-06-25 22:00:00+00'),
('09.07.23', '2023-07-09 18:00:00+00', '2023-07-09 22:00:00+00'),
('23.07.23', '2023-07-23 18:00:00+00', '2023-07-23 22:00:00+00'),
('06.08.23', '2023-08-06 18:00:00+00', '2023-08-06 22:00:00+00'),
('20.08.23', '2023-08-20 18:00:00+00', '2023-08-20 22:00:00+00'),
('03.09.23', '2023-09-03 18:00:00+00', '2023-09-03 22:00:00+00'),
('17.09.23', '2023-09-17 18:00:00+00', '2023-09-17 22:00:00+00'),
('01.10.23', '2023-10-01 18:00:00+00', '2023-10-01 22:00:00+00'),
('15.10.23', '2023-10-15 18:00:00+00', '2023-10-15 22:00:00+00'),
('29.10.23', '2023-10-29 18:00:00+00', '2023-10-29 22:00:00+00'),
('12.11.23', '2023-11-12 18:00:00+00', '2023-11-12 22:00:00+00'),
('26.11.23', '2023-11-26 18:00:00+00', '2023-11-26 22:00:00+00'),
('10.12.23', '2023-12-10 18:00:00+00', '2023-12-10 22:00:00+00'),

-- 2024 Turniere
('07.01.24', '2024-01-07 18:00:00+00', '2024-01-07 22:00:00+00'),
('21.01.24', '2024-01-21 18:00:00+00', '2024-01-21 22:00:00+00'),
('04.02.24', '2024-02-04 18:00:00+00', '2024-02-04 22:00:00+00'),
('18.02.24', '2024-02-18 18:00:00+00', '2024-02-18 22:00:00+00'),
('03.03.24', '2024-03-03 18:00:00+00', '2024-03-03 22:00:00+00'),
('17.03.24', '2024-03-17 18:00:00+00', '2024-03-17 22:00:00+00'),
('31.03.24', '2024-03-31 18:00:00+00', '2024-03-31 22:00:00+00'),
('14.04.24', '2024-04-14 18:00:00+00', '2024-04-14 22:00:00+00'),
('28.04.24', '2024-04-28 18:00:00+00', '2024-04-28 22:00:00+00'),
('12.05.24', '2024-05-12 18:00:00+00', '2024-05-12 22:00:00+00'),
('26.05.24', '2024-05-26 18:00:00+00', '2024-05-26 22:00:00+00'),
('09.06.24', '2024-06-09 18:00:00+00', '2024-06-09 22:00:00+00'),
('23.06.24', '2024-06-23 18:00:00+00', '2024-06-23 22:00:00+00'),
('07.07.24', '2024-07-07 18:00:00+00', '2024-07-07 22:00:00+00'),
('21.07.24', '2024-07-21 18:00:00+00', '2024-07-21 22:00:00+00'),
('04.08.24', '2024-08-04 18:00:00+00', '2024-08-04 22:00:00+00'),
('18.08.24', '2024-08-18 18:00:00+00', '2024-08-18 22:00:00+00'),
('01.09.24', '2024-09-01 18:00:00+00', '2024-09-01 22:00:00+00'),
('15.09.24', '2024-09-15 18:00:00+00', '2024-09-15 22:00:00+00'),
('29.09.24', '2024-09-29 18:00:00+00', '2024-09-29 22:00:00+00'),
('13.10.24', '2024-10-13 18:00:00+00', '2024-10-13 22:00:00+00'),
('27.10.24', '2024-10-27 18:00:00+00', '2024-10-27 22:00:00+00'),
('10.11.24', '2024-11-10 18:00:00+00', '2024-11-10 22:00:00+00'),
('24.11.24', '2024-11-24 18:00:00+00', '2024-11-24 22:00:00+00'),
('08.12.24', '2024-12-08 18:00:00+00', '2024-12-08 22:00:00+00'),

-- 2025 Turniere
('19.01.25', '2025-01-19 18:00:00+00', '2025-01-19 22:00:00+00'),
('02.02.25', '2025-02-02 18:00:00+00', '2025-02-02 22:00:00+00'),
('16.02.25', '2025-02-16 18:00:00+00', '2025-02-16 22:00:00+00'),
('02.03.25', '2025-03-02 18:00:00+00', '2025-03-02 22:00:00+00'),
('16.03.25', '2025-03-16 18:00:00+00', '2025-03-16 22:00:00+00'),
('30.03.25', '2025-03-30 18:00:00+00', '2025-03-30 22:00:00+00'),
('13.04.25', '2025-04-13 18:00:00+00', '2025-04-13 22:00:00+00'),
('27.04.25', '2025-04-27 18:00:00+00', '2025-04-27 22:00:00+00'),
('11.05.25', '2025-05-11 18:00:00+00', '2025-05-11 22:00:00+00'),
('25.05.25', '2025-05-25 18:00:00+00', '2025-05-25 22:00:00+00'),
('08.06.25', '2025-06-08 18:00:00+00', '2025-06-08 22:00:00+00'),
('22.06.25', '2025-06-22 18:00:00+00', '2025-06-22 22:00:00+00'),
('06.07.25', '2025-07-06 18:00:00+00', '2025-07-06 22:00:00+00'),
('20.07.25', '2025-07-20 18:00:00+00', '2025-07-20 22:00:00+00'),

-- Summary Turniere
('All Time Season 2023/2024', '2023-01-01 00:00:00+00', '2024-12-31 23:59:59+00'),
('Season 2023/2024', '2023-01-01 00:00:00+00', '2024-12-31 23:59:59+00');

-- Erstellen der wichtigsten Spieler aus der Excel-Datei
INSERT INTO players (name) VALUES
('Felix'), ('Thali'), ('Andi'), ('Michel'), ('Tho'), ('Igor'), 
('Jany'), ('Alex'), ('Niko'), ('Marco'), ('David'), ('Ben'),
('Sandro'), ('Simon'), ('Luca'), ('Tim'), ('Chris'), ('Philipp'),
('Max'), ('Daniel'), ('Jonas'), ('Fabian'), ('Lukas'), ('Tom'),
('Stefan'), ('Markus'), ('Martin'), ('Kevin'), ('Sebastian'),
('Dennis'), ('Michael'), ('Thomas'), ('Andreas'), ('Matthias'),
('Christian'), ('Jan'), ('Patrick'), ('Tobias'), ('Florian'),
('Marcel'), ('Alexander'), ('Benjamin'), ('Dominik'), ('Sascha');

-- Alle Spieler für alle Turniere registrieren (außer Summary-Turniere)
WITH tournament_ids AS (
  SELECT id FROM tournaments 
  WHERE name NOT LIKE '%Season%' AND name NOT LIKE '%All Time%'
),
player_ids AS (
  SELECT id FROM players
)
INSERT INTO tournament_players (tournament_id, player_id)
SELECT t.id, p.id 
FROM tournament_ids t
CROSS JOIN player_ids p;